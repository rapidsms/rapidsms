================================================
RapidSMS 0.9.7 release notes - UNDER DEVELOPMENT
================================================

This page documents release notes for the as-yet-unreleased RapidSMS
0.9.7. As such, it's tentative and subject to change. It provides
up-to-date information for those who are following trunk.

Welcome to RapidSMS 0.9.7!

These release notes cover the features in 0.9.7, as well
as some `backwards-incompatible-changes`_ you'll want to be aware of 
when upgrading from RapidSMS 0.9.6a or older versions.

.. _backwards-incompatible-changes:

Backwards-incompatible changes in 0.9.7
=======================================

Static media handled by django.contrib.staticfiles
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

RapidSMS 0.9.7 supports out-of-the-box use of ``django.core.staticfiles``
(included by default in Django 1.3.x and above). The 
``rapidsms.urls.static_media`` module has been removed in favor of using this
app. New projects generated using ```rapidsms-admin.py startproject``` are 
automatically configured to work with staticfiles. To upgrade existing 
projects, follow these instructions:

1. Add ``"django.contrib.staticfiles"`` to ``settings.INSTALLED_APPS``.
2. Add ``"django.core.context_processors.static"`` to 
   ``settings.CONTEXT_PROCESSORS``.
3. Remove references to ``rapidsms.urls.static_media`` from ``urls.py`` or 
   anywhere else in your project - this should now be handled by the classes
   listed in ``settings.STATICFILES_FINDERS``. By default, RapidSMS uses these
   finders:

.. code-block:: python
    
    STATICFILES_FINDERS = (
        "django.contrib.staticfiles.finders.FileSystemFinder",
        "django.contrib.staticfiles.finders.AppDirectoriesFinder",
    )

4. Define the URL prefix for static files in ``settings.STATIC_URL``. This 
   value should be distinct from ``settings.MEDIA_URL``.
5. Define the absolute path to the directory to which static files should 
   be collected in ``settings.STATIC_ROOT``.
6. Each app should maintain its static media in the ``static/`` subfolder. (If 
   you have any other directories in which static files are maintained, list 
   them in ``settings.STATICFILES_DIRS``.) We have adopted the convention of 
   keeping the app's static files in a subfolder of ``static/`` with the same
   name as the app. For example, the static file located at 
   ``myapp/static/myapp/stylesheets/myapp.css`` will be available at 
   ``{{ STATIC_URL }}myapp/stylesheets/myapp.css``.
7. Ensure that URLs to static files in your templates use ``{{ STATIC_URL }}``
   rather than ``{{ MEDIA_URL }}`` to locate static files.

